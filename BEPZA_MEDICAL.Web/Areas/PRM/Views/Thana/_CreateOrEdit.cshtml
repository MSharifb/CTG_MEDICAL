@model BEPZA_MEDICAL.Web.Areas.PRM.ViewModel.ThanaViewModel
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>

<div class="GroupBox">
    <div class="row">
        <span class="label">
            @Html.HiddenFor(model => model.Id)
            @Html.LabelFor(model => model.CountryId)
            <label class="required-field">
                *</label>
        </span><span class="field">
            @Html.DropDownListFor(model => model.CountryId, Model.CountryList, @String.Format("{0}", Content.DDLOptionalLabel()), new { @class = "required", onchange = "LoadDivision();" })
        </span><span class="label-right">
            @Html.LabelFor(model => model.DivisionId)
            <label class="required-field">
                *</label>
        </span><span class="field">
            @Html.DropDownListFor(model => model.DivisionId, Model.DivisionList, @String.Format("{0}", Content.DDLOptionalLabel()), new { @class = "required", onchange = "LoadDistrict();" })
        </span>
    </div>
    <div class="row">
        <span class="label">
            @Html.LabelFor(model => model.DistrictId)
            <label class="required-field">
                *</label>
        </span><span class="field">
            @Html.DropDownListFor(model => model.DistrictId, Model.DistrictList, @String.Format("{0}", Content.DDLOptionalLabel()), new { @class = "required" })
        </span><span class="label-right">
            @Html.LabelFor(model => model.ThanaName)
            <label class="required-field">
                *</label>
        </span><span class="field">
            @Html.EditorFor(model => model.ThanaName)
        </span>
    </div>
    <div class="clear">
    </div>
</div>
<div class="GroupBox">
    <div class="button-center buttonSubmit">
    @if ((new BEPZA_MEDICAL.Web.Utility.AppConstant()).IsAddAssigned)
    {
        <input type="submit" value="Save" id="btnSave" name="btnSubmit" style="margin-right: 8px;" />
    }
     @if ((new BEPZA_MEDICAL.Web.Utility.AppConstant()).IsEditAssigned)
     {
        <input type="submit" value="Update" id="btnUpdate" name="btnSubmit" style="margin-right: 8px;
            display: none" />
     }
        <input type="button" value="Clear" id="btnClear" name="btnSubmit" />
    </div>
</div>
<script type="text/javascript">

    $(function () {

        $('#btnSave').click(function (event) {
            event.preventDefault();
            $.validator.unobtrusive.parse($('#frm'));
            if ($('#frm').valid()) {
                var url = '@Url.Action("ThanaCreate", "Thana")';
                var form = $('#frm');
                var serializedForm = form.serialize();
                $.post(url, serializedForm, function (obj) {  //Post to action
                    if (obj.Success) {
                        $("#message").html("<b>" + obj.Message + "</b>").css("color", "green");
//                        ResetForm();
                        jQuery("#ThanaName").val("");

                        jQuery("#jqGrid").trigger("reloadGrid");
                    }
                    else {
                        $("#message").html("<b>" + obj.Message + "</b>").css("color", "red");
                    }
                });
            }
        })

        $('#btnUpdate').click(function (event) {
            event.preventDefault();
            $.validator.unobtrusive.parse($('#frm'));
            if ($('#frm').valid()) {
                var url = '@Url.Action("ThanaEdit", "Thana")';
                var form = $('#frm');
                var serializedForm = form.serialize();
                $.post(url, serializedForm, function (obj) {  //Post to action
                    if (obj.Success) {
                        $("#message").html("<b>" + obj.Message + "</b>").css("color", "green");
                        ResetForm();
                        jQuery("#jqGrid").trigger("reloadGrid");
                    }
                    else {
                        $("#message").html("<b>" + obj.Message + "</b>").css("color", "red");
                    }
                });
            }
        })
    });

</script>