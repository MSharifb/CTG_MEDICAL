@model BEPZA_MEDICAL.Web.Areas.WFM.ViewModel.WelfareFundCategoryViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/WFM/Views/Shared/_Layout.cshtml";
}
<script src="@Url.Content("~/Scripts/jquery.jqGrid.addons-4.1.2.js")" type="text/javascript"></script>
@using (Html.BeginForm("Index", "WelfareFundCategory", FormMethod.Post, new { id = "frm" }))
{
    <div id="message" class="form-group messageBox clearfix">
        @Html.ValidationSummary(false, BEPZA_MEDICAL.Web.Utility.Common.ValidationSummaryHead)
        @if (!string.IsNullOrEmpty(Model.ErrMsg))
        {
            <div id="ErrMsg" class="@Model.errClass">
                @Model.ErrMsg
            </div>
        }
    </div>
    <fieldset>
        <legend>Fund Category Info</legend>
        <div class="form-horizontal">
            <div class="form-group" style="display:none">
                @Html.HiddenFor(model => model.Id)
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.Name, new { @class = "col-sm-2 control-label labelRequired" })
                <div class="col-sm-10">
                    @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.COAId, new { @class = "col-sm-2 control-label labelRequired" })
                <div class="col-sm-10">
                    @Html.DropDownListFor(model => model.COAId, Model.BudgetHeadList, @String.Format("{0}", Content.DDLOptionalLabel()), new { @class = "form-control required" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.Remarks, new { @class = "col-sm-2 control-label" })
                <div class="col-sm-10">
                    @Html.TextAreaFor(model => model.Remarks, new { @class = "form-control" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.IsActive, new { @class = "col-sm-2 control-label" })
                <div class="col-sm-10">
                    @Html.CheckBoxFor(model => model.IsActive)
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-10 col-sm-offset-2 text-right">
                    @if ((new BEPZA_MEDICAL.Web.Utility.AppConstant()).IsAddAssigned)
                    {
                        <button class="btn btn-success" id="btnSave"><i class="fa fa-save"></i> Save</button>
                    }
                    <button class="btn btn-success" id="btnClear"><i class="fa fa-refresh"></i> Clear</button>

                </div>
            </div>
        </div>
    </fieldset>
    @*<fieldset>
            <legend> Search </legend>
            <div id="jqSearch">
            </div>
        </fieldset>*@
    <div class="clear" style="height:10px">
    </div>
    <table id="jqGrid" cellpadding="0" cellspacing="0"></table>
    <div id="jqGridPager" style="text-align: center;">
    </div>
    <div id="divList">
        @Html.Partial("_GridList")
    </div>

}
<script type="text/javascript">
    $(document).ready(function () {

        var Url = window.location.href;
        $("#btnClear").on("click", function (event) {
            event.preventDefault();
            window.location.href = Url;
        });

        if ('@Model.strMode' == 'Edit') {
            $("#btnSave").text(' Update');
            $("#btnClear").hide();
        }

    });
</script>
